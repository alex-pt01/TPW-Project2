<br>
<style>

</style>
<div class = "card-wrapper">
  <div class = "card">
    <!-- card left -->
      <div class = "img-display">
        <div class = "img-showcase">
          <img src = "{{product.image}}" alt = "shoe image">
         </div>
      </div>
    <!-- card right -->
    <div class = "product-content">
      <h2 >{{product.name}}</h2>
      <a class = "product-link">{{product.brand}}</a>
      <div class = "product-rating">
        <i class = "fas fa-star"></i>
        <i class = "fas fa-star"></i>
        <i class = "fas fa-star"></i>
        <i class = "fas fa-star"></i>
        <i class = "fas fa-star-half-alt"></i>
        <span>{{avgRating}}({{sum}})</span>
      </div>

      <div class = "product-price">
        <p *ngIf="product.promotion" class = "last-price">Old Price: <span>{{product.price}}€</span></p>
        <p class = "new-price" *ngIf="product.promotion == null">Price: <span>{{product.price}}€</span></p>
        <p class = "new-price" *ngIf="product.promotion">New Price: <span>{{product.price - product.price*product.promotion.discount}}€</span></p>
      </div>

      <div class = "product-detail">
        <h2>about this item: </h2>
        <p>{{ product.description }}</p>
        <ul>
          <li>Category: <span>{{ product.category }}</span></li>
          <li>Condition: <span>{{product.condition}}</span></li>
          <li>Seller: <span>{{product.seller}}</span></li>
        </ul>
      </div>

      <div class = "purchase-info">
        <form (ngSubmit)="addToCart()">
          <input [formControl]="quantity" type= "number" min = "0" value = "1">
          <button type = "submit" class = "btn">
            Add to Cart <i class = "fas fa-shopping-cart"></i>
          </button>
        </form>

      </div>
  </div>
    <div class="padding-right">
      <div class="" >
        <h2 class="title text-center" style="font-size:2rem">Reviews</h2>
        <h2 *ngIf="comments.length == 0" class="text-center title"> No reviews yet</h2>
        <div  *ngFor="let c of comments">
          <div class=" ">
            <div class="">
              <div class="" style="border: #2a6496; border-style: solid; margin:15px">
                <h1 style="color:orange">{{ c.userName }} </h1>
                <p>{{ c.commentDate }}</p>
                <label><b>Description: </b></label>
                <a>{{ c.description }}</a>



                <h3 *ngFor="let a of c.stars" >
                  <i *ngIf="a==1" class = "fas fa-star"></i>
                  <i *ngIf="a==0" class = "fas fa-star-half-alt"></i>
                </h3>


                <h3>

                </h3>

              </div>
            </div>
          </div>
        </div>
      </div>


</div><div class="col-md-4 col-md-offset-4">
    <div class="login-form"><!--login form-->
      <h2 class="title text-center" style="font-size:2rem">Write Your Review</h2>
      <form id="form-box" *ngIf="commentForm" method="post" [formGroup]="commentForm"  >


        <div class="form-header" style=" font-size: 20px">Create Promotion</div>
        <br>
        <div>

          <p *ngIf="commentForm.controls['description'].invalid" style="color:red; font-size: 18px">Insert a Comment</p>
          <input formControlName="description" type="text"   class="form-input"/>

          <p *ngIf="commentForm.controls['rating'].invalid" style="color:red; font-size: 18px">Select a Rating</p>
          <input formControlName="rating" type="number"  class="form-input"/>

        </div>
        <input style="font-size: 16px"type="submit"  (click)="create()" class="btn btn-default check_out" value="Create New"/>
      </form>

    </div>
  </div>
  </div></div>
<router-outlet></router-outlet>
